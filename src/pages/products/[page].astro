---
import Layout from "src/layouts/Layout.astro";
import ThePagination from "src/components/astro/navigations/ThePagination.astro";
import TheProducts from "src/components/astro/products/TheProducts.astro";
const {page} = Astro.params;
Astro.response.headers.set("cache-control", "public, max-age=0, must-revalidate");
Astro.response.headers.set("netlify-cdn-cache-control", "s-maxage=31536000");
Astro.response.headers.set("netlify-cache-tag", "products");
---

<Layout>
    <main class="w-full min-h-screen dark:bg-base-200 bg-base-300 p-4 py-12">
        <TheProducts server:defer page={page}>
            <div slot="fallback" class="h-[80vh] grid place-items-center">
                <span class="loading loading-dots loading-xl block mx-auto"></span>
            </div>
        </TheProducts>

        <ThePagination page={parseInt(page!)} />
    </main>
</Layout>